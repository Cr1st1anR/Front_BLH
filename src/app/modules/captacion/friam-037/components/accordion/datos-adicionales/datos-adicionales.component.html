<p-accordion-panel value="2">
  <p-accordion-header>DATOS ADICIONALES</p-accordion-header>
  <p-accordion-content>
    <div style="max-height: 600px; overflow-y: auto; padding-right: 12px">
      <form class="grid grid-cols-2 gap-8">
        <div class="col-span-2">
          <label class="font-bold mb-1 block">
            Observaciones durante la visita: <span class="text-red-500">*</span>
          </label>
          <textarea pInputTextarea rows="3" class="p-inputtextarea w-full" [(ngModel)]="observacionesVisita"
            name="observacionesVisita" [readonly]="readOnly"
            [class.ng-invalid]="!readOnly && (!observacionesVisita || observacionesVisita.trim() === '')"></textarea>
        </div>
        <div class="col-span-2">
          <label class="font-bold mb-1 block">
            Recomendaciones: <span class="text-red-500">*</span>
          </label>
          <textarea pInputTextarea rows="3" class="p-inputtextarea w-full" [(ngModel)]="recomendaciones"
            name="recomendaciones" [readonly]="readOnly"
            [class.ng-invalid]="!readOnly && (!recomendaciones || recomendaciones.trim() === '')"></textarea>
        </div>
        <div>
          <label class="font-bold mb-1 block">
            DONANTE EFECTIVA: <span class="text-red-500">*</span>
          </label>
          <div class="flex items-center gap-8 mt-2 radios-texto">
            <p-radioButton name="donanteEfectiva" [value]="1" [(ngModel)]="donanteEfectiva" inputId="donanteEfectivaSi"
              [disabled]="readOnly"></p-radioButton>
            <label for="donanteEfectivaSi" class="mr-6">Si</label>
            <p-radioButton name="donanteEfectiva" [value]="0" [(ngModel)]="donanteEfectiva" inputId="donanteEfectivaNo"
              [disabled]="readOnly"></p-radioButton>
            <label for="donanteEfectivaNo">No</label>
          </div>
        </div>
        <div></div>

        <div>
          <label class="font-bold mb-1 block">
            FIRMA USUARIA: <span class="text-red-500">*</span>
          </label>
          <div>
            <canvas #canvasUsuaria width="350" height="120" [class]="readOnly ? 'canvas-disabled' : 'canvas-enabled'"
              style="border: 1px solid #ccc; border-radius: 8px; touch-action: none;">
            </canvas>
            <div class="mt-2 flex gap-2">
              @if (!readOnly) {
              <button type="button" (click)="clearFirmaUsuaria()"
                class="p-1 px-2 bg-gray-200 rounded border border-gray-300">
                Limpiar
              </button>
              }
            </div>
          </div>
        </div>
        <div>
          <label class="font-bold mb-1 block">
            FIRMA DE QUIEN REALIZA LA VISITA: <span class="text-red-500">*</span>
          </label>
          <div>
            <canvas #canvasVisita width="350" height="120" [class]="readOnly ? 'canvas-disabled' : 'canvas-enabled'"
              style="border: 1px solid #ccc; border-radius: 8px; touch-action: none;">
            </canvas>
            <div class="mt-2 flex gap-2">
              @if (!readOnly) {
              <button type="button" (click)="clearFirmaVisita()"
                class="p-1 px-2 bg-gray-200 rounded border border-gray-300">
                Limpiar
              </button>
              }
            </div>
          </div>
        </div>
      </form>
    </div>
  </p-accordion-content>
</p-accordion-panel>
